# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- main

pool:
  name: Azure-Infra_Pool

steps:
- script: echo Hello, world!
  displayName: 'Run a one-line script'

- task: JFrogGenericArtifacts@1
  inputs:
    command: 'Download'
    connection: 'jfrogscv2'
    specSource: 'taskConfiguration'
    fileSpec: |
      {
        "files": [
          {
              "pattern": "rba-artifacts/spring-boot/spring-boot/2.6.9/spring-boot-2.6.9.jar",
                   "target": "rba-artifacts/"
          }
        ]
      }
    failNoOp: true

- task: Docker@2
  inputs:
    containerRegistry: 'acr-connection'
    command: 'build'
    Dockerfile: '**/Dockerfile'
